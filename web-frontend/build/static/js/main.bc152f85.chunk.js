(this["webpackJsonpweb-frontend"]=this["webpackJsonpweb-frontend"]||[]).push([[0],{165:function(e,a,n){},291:function(e,a,n){"use strict";n.r(a);var t=n(0),o=n.n(t),i=n(45),r=n.n(i),s=(n(165),n(51),n(35)),c=n(336),l=n(335),d=n(337),m=n(339),h=n(340),u=n(338),b=n(143),j=n.n(b),p=n(2);var x=function(){return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("div",{className:"dashboard",children:[Object(p.jsxs)("h1",{id:"wlm",children:["Welcome ",Object(p.jsx)("span",{id:"name",children:localStorage.getItem("name")})," "]}),Object(p.jsx)("h3",{children:"Personal Details"}),Object(p.jsxs)("h4",{children:["Email: ",localStorage.getItem("email")]})]})})};var O=function(){return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(l.a,{sx:{flexGrow:1},children:Object(p.jsx)(c.a,{position:"static",children:Object(p.jsxs)(d.a,{children:[Object(p.jsx)(u.a,{size:"large",edge:"start",color:"inherit","aria-label":"menu",sx:{mr:2},children:Object(p.jsx)(j.a,{})}),Object(p.jsx)(m.a,{variant:"h6",component:"div",sx:{flexGrow:1},children:"React Form"}),Object(p.jsx)(s.b,{className:"item",exact:!0,to:"/",children:Object(p.jsx)(h.a,{color:"inherit",children:"Signup"})}),Object(p.jsx)(s.b,{className:"item",to:"/login",children:Object(p.jsx)(h.a,{color:"inherit",children:"Login"})}),Object(p.jsx)(s.b,{className:"item",to:"/profile",children:Object(p.jsx)(h.a,{color:"inherit",children:"addpost"})}),Object(p.jsx)(s.b,{className:"item",to:"/login",onClick:function(){localStorage.clear()},children:Object(p.jsx)(h.a,{color:"inherit",children:"Log out"})})]})})})})},g=n(54),v=n(28),f=n(332),w=n(50),S=n.n(w),N="localhost"===window.location.hostname.split(":")[0]?"http://localhost:5000":"",C=function(e,a){var n=a.resetForm;console.log("values",e),S.a.post("".concat(N,"/api/v1/signup"),{name:e.name,email:e.email,phone:e.phone,password:e.password}).then((function(e){console.log(e.data),alert("User Signed in"),n({})}))},F=v.a({email:v.b("Enter your email").email("Enter a valid email").required("Email is required"),name:v.b("Enter your password").min(4,"Name should be of minimum 4 characters length").required("Name is required"),phone:v.b("Enter your phone no.").matches(/^((\\+[1-9]{1,4}[ \\-]*)|(\\([0-9]{2,3}\\)[ \\-]*)|([0-9]{2,4})[ \\-]*)*?[0-9]{3,4}?[ \\-]*[0-9]{3,4}?$/,"Phone number is not valid").min(11,"Phone should contain 11 digits").max(11,"Phone should contain 11 digits").required("phone number is required"),password:v.b("Enter your password").min(8,"Password should be of minimum 8 characters length").required("Password is required")});var y=function(){var e=Object(g.a)({validationSchema:F,initialValues:{email:"",name:"",phone:"",password:""},onSubmit:C});return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("div",{className:"container",children:Object(p.jsx)("div",{className:"main",children:Object(p.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(p.jsx)("h3",{children:" Sign up Form "}),Object(p.jsx)(f.a,{id:"outlined-basic",name:"name",label:"name",className:"box",value:e.values.name,onChange:e.handleChange,error:e.touched.name&&Boolean(e.errors.name),helperText:e.touched.name&&e.errors.name,variant:"outlined"}),Object(p.jsx)(f.a,{id:"outlined-basic",name:"email",label:"email",className:"box",value:e.values.email,onChange:e.handleChange,error:e.touched.email&&Boolean(e.errors.email),helperText:e.touched.email&&e.errors.email,variant:"outlined"}),Object(p.jsx)(f.a,{id:"outlined-basic",name:"phone",label:"phone",className:"box",value:e.values.phone,onChange:e.handleChange,error:e.touched.phone&&Boolean(e.errors.phone),helperText:e.touched.phone&&e.errors.phone,variant:"outlined"}),Object(p.jsx)(f.a,{id:"outlined-basic",name:"password",label:"password",type:"password",className:"box",value:e.values.password,onChange:e.handleChange,error:e.touched.password&&Boolean(e.errors.password),helperText:e.touched.password&&e.errors.password,variant:"outlined"}),Object(p.jsx)(h.a,{id:"btn",variant:"contained",color:"success",type:"submit",children:"Submit"})]})})})})},E=n(18),q=v.a({email:v.b("Enter your email").email("Enter a valid email").required("Email is required"),password:v.b("Enter your password").min(8,"Password should be of minimum 8 characters length").required("Password is required")});var P=function(){var e=Object(E.f)(),a=Object(g.a)({validationSchema:q,initialValues:{email:"",password:""},onSubmit:function(a){console.log("values",a),S.a.post("".concat(N,"/api/v1/login"),{email:a.email,password:a.password}).then((function(a){console.log(a.data),localStorage.setItem("name",a.data.name),localStorage.setItem("email",a.data.email),alert("User Logined"),a.data.email&&setTimeout((function(){e.push("/profile")}),2e3)}))}});return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("div",{className:"container",children:Object(p.jsx)("div",{className:"main",children:Object(p.jsxs)("form",{onSubmit:a.handleSubmit,children:[Object(p.jsx)("h3",{children:" Login Form "}),Object(p.jsx)(f.a,{id:"outlined-basic",name:"email",label:"email",className:"box",value:a.values.email,onChange:a.handleChange,error:a.touched.email&&Boolean(a.errors.email),helperText:a.touched.email&&a.errors.email,variant:"outlined"}),Object(p.jsx)(f.a,{id:"outlined-basic",name:"password",label:"password",type:"password",className:"box",value:a.values.password,onChange:a.handleChange,error:a.touched.password&&Boolean(a.errors.password),helperText:a.touched.password&&a.errors.password,variant:"outlined"}),Object(p.jsx)(h.a,{id:"btn",variant:"contained",color:"success",type:"submit",children:"Submit"})]})})})})},I=n(13),T=v.a({caption:v.b("Enter your password").min(4,"Name should be of minimum 4 characters length").required("Name is required")});var B=function(){var e=Object(t.useState)(!1),a=Object(I.a)(e,2),n=a[0],o=a[1],i=Object(t.useState)([]),r=Object(I.a)(i,2),s=r[0],c=r[1],l=Object(E.f)();Object(t.useEffect)((function(){S.a.get("".concat(N,"/api/v1/profile")).then((function(e){console.log(e),console.log(e.data),c(e.data)})).catch((function(e){return alert("Error in getting data")}))}),[n]);var d=Object(g.a)({validationSchema:T,initialValues:{name:localStorage.getItem("name"),email:localStorage.getItem("email"),caption:""},onSubmit:function(e,a){var t=a.resetForm;localStorage.getItem("name")&&localStorage.getItem("email")?(console.log("values",e),S.a.post("".concat(N,"/api/v1/profile"),{name:e.name,email:e.email,caption:e.caption}).then((function(e){console.log(e.data),t({}),o(!n)}))):(alert("You have to Login First"),console.log("you need to login"),l.push("/login"))}});return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("div",{className:"container",children:[Object(p.jsx)("div",{className:"post-main",children:Object(p.jsxs)("form",{id:"post-form",onSubmit:d.handleSubmit,children:[Object(p.jsx)("h3",{children:" What's on Your Mind "}),Object(p.jsx)(f.a,{id:"outlined-basic",name:"caption",label:"post",type:"caption",className:"box",value:d.values.caption,onChange:d.handleChange,error:d.touched.caption&&Boolean(d.errors.caption),helperText:d.touched.caption&&d.errors.caption,variant:"outlined"}),Object(p.jsx)(h.a,{id:"btn",variant:"contained",color:"success",type:"submit",children:"Post"})]})}),Object(p.jsx)("div",{id:"posts",children:null===s||void 0===s?void 0:s.map((function(e){return Object(p.jsxs)("div",{id:"cont",children:[Object(p.jsx)("h3",{id:"post-name",children:e.name}),Object(p.jsx)("hr",{}),Object(p.jsx)("p",{id:"post-item",children:e.caption}),Object(p.jsxs)("p",{className:"buttonbox",children:[Object(p.jsx)("button",{className:"btn",children:"Like"}),Object(p.jsx)("button",{className:"btn",children:"Comment"}),Object(p.jsx)("button",{className:"btn",children:"Share"})]})]})}))})]})})};var L=function(){return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)(s.a,{children:[Object(p.jsx)(O,{}),Object(p.jsxs)(E.c,{children:[Object(p.jsx)(E.a,{path:"/dashboard",children:Object(p.jsx)(x,{})}),Object(p.jsx)(E.a,{path:"/login",children:Object(p.jsx)(P,{})}),Object(p.jsx)(E.a,{path:"/profile",children:Object(p.jsx)(B,{})}),Object(p.jsx)(E.a,{exact:!0,path:"/",children:Object(p.jsx)(y,{})})]})]})})},k=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,342)).then((function(a){var n=a.getCLS,t=a.getFID,o=a.getFCP,i=a.getLCP,r=a.getTTFB;n(e),t(e),o(e),i(e),r(e)}))};r.a.render(Object(p.jsx)(o.a.StrictMode,{children:Object(p.jsx)(L,{})}),document.getElementById("root")),k()},51:function(e,a,n){}},[[291,1,2]]]);
//# sourceMappingURL=main.bc152f85.chunk.js.map